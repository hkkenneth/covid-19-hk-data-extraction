description: |
  Extract data from PDF.
executors:
  default:
    description: |
      Basic Docker image
    docker:
    - image: rappdw/docker-java-python
jobs:
  all:
    description: |
      Run python notebook
    executor: default
    steps:
    - checkout
    - add_ssh_keys:
        fingerprints:
          - "ac:89:99:c4:d9:0e:90:66:0c:f1:5c:57:2e:46:4f:0e"
    - run:
        command: |
          pip install jupyter nbconvert
          git status
          git config user.email "hkkenneth@gmail.com"
          git config user.name "CircleCI Job"
          jupyter nbconvert --execute --to notebook --inplace data-extraction.ipynb
          git add data-extraction.ipynb
          git commit --allow-empty -am "Automatic commit from CircleCI [skip ci]"
          git push origin master
        name: Git Checkout and run jupyter notebook
# Use the latest 2.1 version of CircleCI pipeline process engine. See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1
# Orchestrate or schedule a set of jobs
workflows:
  extraction:
    jobs:
      - all
